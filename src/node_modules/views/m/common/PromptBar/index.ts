import * as tomato from "@po-to/tomato";
import * as tdom from "@po-to/tomato-jquery";
import * as project from "views/global/common/Project";
import * as funs from "views/global/common/Funs";
import * as model from "views/global/common/Model";
import * as api from "views/global/common/API";

class VPresenter extends project.VPresenter {
    constructor(view: tomato.VPView, parent?: tomato.VPresenter, vpid?: string) {
        super(view, parent, vpid);
        //this._watchEvent();
        //this._els = this._getElements();

    }
    public setTip = function (note, bgcolor?, time?) {
        /*
             note:必填； －－提示信息详情；
             color:选填； --背景颜色
             time:选填；关闭提示条的时间
        */
        let tipNote = this.find('.promptBar');
        let that = this;
        //如果没有详细信息，则调整界面显示
        if (note != '') {
            tipNote.text(note);
        } else {
        }
        //如果是错误提示，则更改icon
        if (bgcolor != '') {
            tipNote.backgroundColor(bgcolor);
        }
        if (time) {
            //关闭提示框
            setTimeout(function () {
                (that.parent as tomato.Dialog).close();
            }, time);
        }

    }
}
export = VPresenter;